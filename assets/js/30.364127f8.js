(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{450:function(s,n,a){"use strict";a.r(n);var t=a(23),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm"),a("OutboundLink")],1),s._v(" 是跟随 node 一起安装的包（模块）管理器。常见的使用场景有以下几种：")]),s._v(" "),a("ul",[a("li",[s._v("允许用户从 npm 服务器下载别人编写的第三方包到本地使用。")]),s._v(" "),a("li",[s._v("允许用户从 npm 服务器下载并安装别人编写的命令行程序到本地使用。")]),s._v(" "),a("li",[s._v("允许用户将自己编写的包或命令行程序上传到 npm 服务器供别人使用。")])]),s._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测是否安装及版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" -v\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化（生成package.json文件）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装package.json定义好的模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装包指定模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -g\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装包的同时，将信息写入到package.json中的 dependencies 配置中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --save\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -S\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装包的同时，将信息写入到package.json中的 devDependencies 配置中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --save-dev\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -D\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装多模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("ul",[a("li",[s._v("--save # 简写-S，加入到生产依赖中")]),s._v(" "),a("li",[s._v("--save-dev # 简写-D，加入到开发依赖中")]),s._v(" "),a("li",[s._v("-g # 全局安装 将安装包放在 /usr/local 下或者你 node 的安装目录")])])]),s._v(" "),a("h3",{attrs:{id:"查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看"}},[s._v("#")]),s._v(" 查看")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有全局安装的包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -g\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看本地项目中安装的包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包的 package.json文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包的依赖关系")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" dependencies\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包的源文件地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" repository.url\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包所依赖的node版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" engines\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看帮助")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"更新、卸载等"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新、卸载等"}},[s._v("#")]),s._v(" 更新、卸载等")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新本地模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新全局模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update -g "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新全局软件包。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update -g "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新所有的全局软件包。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" outdated -g --depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出需要更新的包。")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载本地模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" uninstall "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载全局模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" uninstall -g "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载全局软件包。")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空npm缓存")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" cache "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用淘宝镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cnpm --registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更改包内容后进行重建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" rebuild "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查包是否已经过时，此命令会列出所有已经过时的包，可以及时进行包的更新")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" outdated\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访问npm的json文件，此命令将会打开一个网页")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" json\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布一个包的时候，需要检验某个包名是否存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" search "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤销自己发布过的某个版本代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("package"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看npm模块所有历史版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view xxx version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"淘宝-npm-镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#淘宝-npm-镜像"}},[s._v("#")]),s._v(" 淘宝 npm 镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时使用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" --registry https://registry.npm.taobao.org "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" npm包\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久使用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看验证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复默认")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npmjs.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"搭建私有-npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建私有-npm"}},[s._v("#")]),s._v(" 搭建私有 NPM")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903833819152391",target:"_blank",rel:"noopener noreferrer"}},[s._v("Verdaccio 搭建私有 NPM"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/jaywcjlove/handbook/blob/master/CentOS/%E5%9C%A85%E5%88%86%E9%92%9F%E5%86%85%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E5%86%85%E9%83%A8%E7%A7%81%E6%9C%89npm%E4%BB%93%E5%BA%93.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("搭建企业内部私有 npm 仓库"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"实例-发布一个-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-发布一个-npm-包"}},[s._v("#")]),s._v(" 实例：发布一个 npm 包")]),s._v(" "),a("h3",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("通常我们可以将一些常用的或通用的功能封装称为 npm 包供多个项目进行依赖。 如：工具类库，UI 组件库，各类插件等。")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://xie.infoq.cn/article/54bab64360e642efab7641427",target:"_blank",rel:"noopener noreferrer"}},[s._v("教程来源"),a("OutboundLink")],1)])]),s._v(" "),a("p",[a("strong",[s._v("流程介绍（9 个步骤）")])]),s._v(" "),a("p",[s._v("这里以向 npm 官网发布一个 npm 包为例，进行演示说明（公司内部的私有 npm 包可能会发布到 npm 私服）")]),s._v(" "),a("p",[s._v("流程如下：")]),s._v(" "),a("ul",[a("li",[s._v("1，注册 npm 账户")]),s._v(" "),a("li",[s._v("2，验证邮箱（这一步相当重要，也许会遇到意想不到的问题导致发布失败）")]),s._v(" "),a("li",[s._v("3，npm init 初始化工程，并编写代码（package.json 介绍，包名命名规则）")]),s._v(" "),a("li",[s._v("4，登录 npm 账户（注意切换镜像，用淘宝镜像是不行的；首次和非首次登录）")]),s._v(" "),a("li",[s._v("5，npm publish 发布 npm 包（包名问题；如何忽略不想上传的部分文件）")]),s._v(" "),a("li",[s._v("6，查看并测试使用 npm 包")]),s._v(" "),a("li",[s._v("7，更新 npm 包版本（npm 的版本管理规则）")]),s._v(" "),a("li",[s._v("8，撤销已发布的 npm 包（如何强制撤销）")]),s._v(" "),a("li",[s._v("9，常见问题及解决方法（镜像问题，登录失败，验证邮箱，包名重复/存在相似等）")])]),s._v(" "),a("h3",{attrs:{id:"_1、注册-npm-账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、注册-npm-账户"}},[s._v("#")]),s._v(" 1、注册 npm 账户")]),s._v(" "),a("p",[s._v("注册地址："),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com/"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_2、验证邮箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、验证邮箱"}},[s._v("#")]),s._v(" 2、验证邮箱")]),s._v(" "),a("blockquote",[a("p",[s._v("在不验证邮箱的情况下，是不能使用 npm publish 发布 npm 包的。")])]),s._v(" "),a("h3",{attrs:{id:"_3、npm-init-初始化工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、npm-init-初始化工程"}},[s._v("#")]),s._v(" 3、npm init 初始化工程")]),s._v(" "),a("p",[s._v("新建工程目录，如：demo-publish-npm-module，cd 至此目录下执行"),a("code",[s._v("npm init")]),s._v("，初始化一个 npm 工程")]),s._v(" "),a("p",[s._v("按照提示生成配置文件 package.json")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo-publish-npm-module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo-publish-npm-module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo \\"Error: no test specified\\" && exit 1"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npmmodule"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"leijialin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"708912932@qq.com"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[a("strong",[s._v("注意事项")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("name:\n\tname命名规则-不能包含大写字母，空格及下滑线\n\n\t由于npm是靠包名（name字段）来确定唯一性的，\n\t好比android/ios APP在同一个应用市场不能存在相同包名的应用一样，\n\t所以在填写name时，最好先到npm查一下是否包名已被占用，以避免发布时包名冲突\n\t冲突了需要修改包名，会在后边问题解决记录方法\n\nmain：\n\t配置入口js文件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("简单写一些代码逻辑用于测试-hello")]),s._v(" "),a("p",[s._v("index.js")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello : '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sayHello "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sayHello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_4、登录-npm-账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、登录-npm-账户"}},[s._v("#")]),s._v(" 4、登录 npm 账户")]),s._v(" "),a("p",[s._v("代码写好了还不能发布，需要先登录 npm：由于和谐原因，大部分开发者 npm 配置指向淘宝镜像所以，需要先切换回官方 npm 镜像，再进行登录：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询当前镜像地址：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" get registry\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置淘宝镜像：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://registry.npm.taobao.org/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置官方npm镜像:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npmjs.org/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("切换完成后，登录 npm：")]),s._v(" "),a("p",[s._v("1)首次登录："),a("code",[s._v("npm adduser")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser\nUsername: leijialin\nPassword:\nEmail: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("708912932")]),s._v("@qq.com\nLogged "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as bravewang on https://registry.npmjs.org/.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("2)非首次登录："),a("code",[s._v("npm login")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\nUsername: leijialin\nPassword:\nEmail: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("this IS public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("708912932")]),s._v("@qq.com\nLogged "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as bravewang on https://registry.npmjs.org/.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("查看当前登录:"),a("code",[s._v("npm whoami")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),s._v("\nbravewang\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_5、发布-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、发布-npm-包"}},[s._v("#")]),s._v(" 5、发布 npm 包")]),s._v(" "),a("p",[s._v("创建 npm 工程，编写代码逻辑，切换镜像地址，登录 npm 后，可以发布了")]),s._v(" "),a("p",[s._v("发布命令："),a("code",[s._v("npm publish")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice ?  demo-publish-npm-module@1.0.0\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Contents "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 411B   package.json\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 82B    index.js\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 174B   .idea/misc.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 278B   .idea/modules.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 458B   .idea/npmModuleDemo.iml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice 186B   .idea/vcs.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(".4kB .idea/workspace.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tarball Details "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice name:          demo-publish-npm-module\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice version:       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice package size:  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v(" kB\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice unpacked size: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.0")]),s._v(" kB\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice shasum:        15ae6ba456021fc27211d3ab09841e103f26b24b\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice integrity:     sha512-0EnajKXHimu1j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("X/nAb9bzEvDYg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice total files:   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" notice\n+ demo-publish-npm-module@1.0.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("为了演示重新发布，刚刚将已发布好的包撤销了，撤销后 24 小时内不能重新发布。")])]),s._v(" "),a("p",[s._v("发布时可能会遇到一些问题导致发布失败，如：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）登录授权问题\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("）包名被占用或存在相似包名的npm包\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("）验证未邮箱\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 撤销后24小时内不能重新发布\n\n以上问题见下面的常见问题及解决方法\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("如何忽略不想上传的部分文件：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("写入.gitignore 或.npmignore中，上传时就会被自动忽略掉\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_6、查看并测试-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、查看并测试-npm-包"}},[s._v("#")]),s._v(" 6、查看并测试 npm 包")]),s._v(" "),a("p",[s._v("发布成功后，登录 npm 并搜索刚发布的 npm 包，即可看到。")]),s._v(" "),a("p",[s._v("下载并测试发布的 npm 包：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" demo-publish-npm-module -S\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("引入:")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" npmDodule "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo-publish-npm-module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nnpmDodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("输出：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("hello ：world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_7、-更新-npm-包版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、-更新-npm-包版本"}},[s._v("#")]),s._v(" 7、 更新 npm 包版本")]),s._v(" "),a("p",[s._v("如果对 npm 包的内容进行了更新，需要升级 npm 包版本")]),s._v(" "),a("p",[s._v("npm 社区版本号规则采用 semver（语义化版本）")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("格式：主版本号.次版本号.修订号\n\n版本号递增规则：\n\t主版本号：当你做了不兼容的 API 修改\n\t次版本号：当你做了向下兼容的功能性新增\n\t修订号：当你做了向下兼容的问题修正\n\n先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("查看当前包版本号 "),a("code",[s._v("npm version")]),s._v(" ：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo-publish-npm-module'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.0.0'")]),s._v(",\n  npm: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'6.4.1'")]),s._v(",\n  ares: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.10.1-DEV'")]),s._v(",\n  cldr: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'32.0'")]),s._v(",\n  http_parser: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2.8.0'")]),s._v(",\n  icu: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60.1'")]),s._v(",\n  modules: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'57'")]),s._v(",\n  napi: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v(",\n  nghttp2: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.32.0'")]),s._v(",\n  node: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'8.12.0'")]),s._v(",\n  openssl: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.0.2p'")]),s._v(",\n  tz: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2017c'")]),s._v(",\n  unicode: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0'")]),s._v(",\n  uv: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.19.2'")]),s._v(",\n  v8: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'6.2.414.66'")]),s._v(",\n  zlib: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.2.11'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[a("strong",[s._v("更新版本号并发布")])]),s._v(" "),a("p",[s._v("1）直接更新版本号 ： "),a("code",[s._v("npm version 新版本号")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".1\nv1.0.1\n\n执行后，package.json中version字段被更新 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.1"')]),s._v(",\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("2）可通过 "),a("code",[s._v("npm version <update_type> 自动改变版本")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("update_type取值,意义及演示：\n\n// "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）patch：补丁     v1.0.1-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("v1.0.2\nBravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch\nv1.0.2\n// "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("）minor：小改     v1.0.2-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("v1.1.0\nBravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor\nv1.1.0\n// "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("）major：大改     v1.1.0-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("v2.0.0\nBravedeMacBook-Pro:npmModuleDemo brave$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version major\nv2.0.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"_8、撤销已发布的-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、撤销已发布的-npm-包"}},[s._v("#")]),s._v(" 8、撤销已发布的 npm 包")]),s._v(" "),a("p",[s._v("撤销命令: "),a("code",[s._v("npm unpublish 包名")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("BravedeMacBook-Pro:npmModuleDemo brave$\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish demo-publish-npm-module\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Refusing to delete entire project.\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Run with --force to "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" this.\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("强制撤销：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("如上报错，可加--force强制撤销\n\nBravedeMacBook-Pro:npmModuleDemo brave$\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish demo-publish-npm-module --force\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" WARN using --force I sure hope you know what you are doing.\n- demo-publish-npm-module\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("撤销成功！")]),s._v(" "),a("p",[s._v("例如：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish @jalngo/vdirectives@0.0.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_9、常见问题及解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、常见问题及解决方法"}},[s._v("#")]),s._v(" 9、常见问题及解决方法")]),s._v(" "),a("p",[s._v("1）npm 镜像源问题：")]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("no_perms Private mode enable,\nonly admin can publish this module: npmmoduledemo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("解决方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换至npm官方地址：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npmjs.org/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("2）登录问题 1：")]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("need auth You need to authorize this machine using "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解决方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("需要一个登录会话，通过npm adduser进行登录即可，具体方法上边有不再赘述\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3）登录问题 2：")]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code EAUTHUNKNOWN\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Unable to authenticate, need: Basic\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("解决方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("网上有说用户名前加~可登陆成功\n加了~后确实能登录了，但经测试并不能发布包，至少我是这样的\n可能是邮箱未验证（参考问题5）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("4）存在包名相似或包名冲突")]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# // 存在相似")]),s._v("\nPackage name too similar to existing packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ntry renaming your package to "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@~bravewang/npmmoduledemo1'")]),s._v("\nand publishing with "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npm publish --access=public'")]),s._v("\ninstead "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" npmmoduledemo1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# // 包名冲突")]),s._v("\nYou "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" not have permission to publish "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npmmoduledemo"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nAre you logged "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as the correct user? "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" npmmoduledemo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("解决方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("修改包名，使用未被占用的包名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("5）邮箱未验证问题")]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("you must verify your email before publishing a new package:\nhttps://www.npmjs.com/email-edit "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" demo-publish-npm-module\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("解决方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("解决方法就是去验证邮箱，但是，这个过程缺困扰了我，\n因为不管使用126，还是qq邮箱收到并打开激活链接后，都显示并未激活\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("6）npm publish 过滤部分文件")]),s._v(" "),a("ul",[a("li",[s._v("方法一：使用 .gitignore 设置忽略哪些文件")]),s._v(" "),a("li",[s._v("方法二：使用 .npmignore 设置忽略哪些文件")]),s._v(" "),a("li",[s._v("方法三：使用 package.json 的 files 字段选择发布哪些文件")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("若同时使用了 .npmignore 和 .gitignore，只有 .npmignore 会生效，优先级比较高")]),s._v(" "),a("p",[s._v("直接在 package.json 中 files 字段设置发布哪些文件或目录。这个优先级高于 .npmignore 和 .gitignore。")])]),s._v(" "),a("p",[s._v("7）package.json中^符号和~符号前缀的区别")]),s._v(" "),a("p",[s._v("版本号 x.y.z ：")]),s._v(" "),a("p",[s._v("z ：表示一些小的bugfix, 更改z的号，")]),s._v(" "),a("p",[s._v("y ：表示一些大的版本更改，比如一些API的变化")]),s._v(" "),a("p",[s._v("x ：表示一些设计的变动及模块的重构之类的，会升级x版本号")]),s._v(" "),a("p",[s._v("在package.json里面dependencies依赖包的版本号前面的符号有两种，一种是~，一种是^。")]),s._v(" "),a("p",[s._v("~的意思是匹配最近的小版本 比如~1.0.2将会匹配所有的1.0.x版本，但不匹配1.1.0")]),s._v(" "),a("p",[s._v("^的意思是最近的一个大版本 比如1.0.2 将会匹配 所有 1.x.x, 但不包括2.x.x")])])}),[],!1,null,null,null);n.default=e.exports}}]);