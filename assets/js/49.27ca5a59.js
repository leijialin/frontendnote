(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{469:function(t,s,a){"use strict";a.r(s);var e=a(23),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"webpack介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack介绍"}},[t._v("#")]),t._v(" Webpack介绍")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://webpack.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.docschina.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方中文文档"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"前置知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[t._v("#")]),t._v(" 前置知识")]),t._v(" "),a("p",[t._v("常用模块化打包工具")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("webpack")])])]),t._v(" "),a("blockquote",[a("p",[t._v("是npm的工具模块，实现了文件的打包功能。对于打包结果，webpack会将文件合并，同时提供基础代码，让打包前后代码之间的逻辑不变。webpack建议根据代码的需要，可以动态引入任何资源，包括css、图片文件等。JS作为前端驱动，资源与JS形成依赖，可以保证上线时的资源文件都是必要的。")])]),t._v(" "),a("blockquote",[a("p",[t._v("特性")]),t._v(" "),a("ul",[a("li",[t._v("loader")]),t._v(" "),a("li",[t._v("minimizer")]),t._v(" "),a("li",[t._v("plugin")]),t._v(" "),a("li",[t._v("TreeShaking")]),t._v(" "),a("li",[t._v("SideEffects")]),t._v(" "),a("li",[t._v("HMR")]),t._v(" "),a("li",[t._v("watch工作模式")])])]),t._v(" "),a("blockquote",[a("p",[t._v("webpack打包后的代码，是自调用函数，运行时，函数开始自调用，会一个一个的按模块(前面提到过，ESM一个文件就是一个模块)加载代码，并做加载缓存处理，当有缓存中有被加载过的模块，优先读取缓存。")])]),t._v(" "),a("ul",[a("li",[t._v("Rollup(https://www.rollupjs.com/)")])]),t._v(" "),a("blockquote",[a("p",[t._v("优点：")]),t._v(" "),a("ul",[a("li",[t._v("输出结果更加扁平")]),t._v(" "),a("li",[t._v("自动移除未引用代码")]),t._v(" "),a("li",[t._v("打包结果依然完全可读")])])]),t._v(" "),a("blockquote",[a("p",[t._v("缺点：")]),t._v(" "),a("ul",[a("li",[t._v("加载非ESM的三方模块较为复杂")]),t._v(" "),a("li",[t._v("模块最终都被打包到一个函数中，无法实现HMR")]),t._v(" "),a("li",[t._v("浏览器环境，代码拆分需要依赖AMD库")])])]),t._v(" "),a("ul",[a("li",[t._v("Parcel")])]),t._v(" "),a("blockquote",[a("p",[t._v("零配置的前端应用打包器")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("建议开发 应用程序，使用webpack，开发框架或类库，使用Rollup")])]),t._v(" "),a("h2",{attrs:{id:"webpack是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack是什么"}},[t._v("#")]),t._v(" webpack是什么？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/leijialin/noteImages/notes/webpack/webpack1_1.png",alt:""}})]),t._v(" "),a("p",[t._v("Webpack是一种前端资源构建工具，一个静态模块打包器（module bundler）。")]),t._v(" "),a("p",[t._v("在Webpack看来，前端的所有资源（js、json、css、img、less等）都会当做模块处理。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/leijialin/noteImages/notes/webpack/webpack1_2.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("工作流程")])]),t._v(" "),a("p",[t._v("从入口文件开始，建立依赖树 ——> 递归依赖树——> rules属性 -> test正则匹配文件，使用加载器，加载模块——> loader处理 ——> plugin ——> boundle.js 完成打包。")]),t._v(" "),a("h2",{attrs:{id:"webpack五个核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack五个核心概念"}},[t._v("#")]),t._v(" webpack五个核心概念")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Entry")])])]),t._v(" "),a("p",[t._v("入口(Entry)指示 webpack 以哪个文件为入口起点开始打包，分析构建内部依赖图。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Output")])])]),t._v(" "),a("p",[t._v("输出(Output)指示 webpack 打包后的资源 bundles 输出到哪里去，以及如何命名。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Loader（加载器）")])])]),t._v(" "),a("p",[t._v("Loader 让 webpack 能够去处理那些非JavaScript文件(webpack自身只理解JavaScript)")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Plugins（插件）")])])]),t._v(" "),a("p",[t._v("插件(Plugins)可以用于执行范围更广的任务。插件的范围包括，从打包优化和压缩， 一直到重新定义环境中的变量等。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Mode")])])]),t._v(" "),a("p",[t._v("模式(Mode)指示 webpack 使用相应模式的配置。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("选项")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("特点")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("development")]),t._v(" "),a("td",[t._v("会将 DefinePlugin 中 process.env.NODE_ENV 的值设置 为 development。启用 NamedChunksPlugin 和 NamedModulesPlugin。")]),t._v(" "),a("td",[t._v("能让代码本地调试 运行的环境")])]),t._v(" "),a("tr",[a("td",[t._v("production")]),t._v(" "),a("td",[t._v("会将 DefinePlugin 中 process.env.NODE_ENV 的值设置 为 production。启用 FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin 和 TerserPlugin。")]),t._v(" "),a("td",[t._v("能让代码优化上线 运行的环境")])])])]),t._v(" "),a("h2",{attrs:{id:"webpack-的初体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-的初体验"}},[t._v("#")]),t._v(" webpack 的初体验")]),t._v(" "),a("h3",{attrs:{id:"初始化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化配置"}},[t._v("#")]),t._v(" 初始化配置")]),t._v(" "),a("ol",[a("li",[t._v("初始化 "),a("code",[t._v("package.json")])])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init -y\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("下载并安装 "),a("code",[t._v("webpack")])])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm install webpack webpack-cli -g ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" webpack webpack-cli -D "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (推荐)")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"编译打包应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译打包应用"}},[t._v("#")]),t._v(" 编译打包应用")]),t._v(" "),a("ol",[a("li",[t._v("创建文件")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("运行指令")])]),t._v(" "),a("p",[t._v("开发环境指令："),a("code",[t._v("webpack src/js/index.js -o build/js/built.js --mode=development")])]),t._v(" "),a("p",[t._v("功能：webpack 能够编译打包 js 和 json 文件，并且能将 es6 的模块化语法转换成 浏览器能识别的语法。")]),t._v(" "),a("p",[t._v("生产环境指令："),a("code",[t._v("webpack src/js/index.js -o build/js/built.js --mode=production")])]),t._v(" "),a("p",[t._v("功能：在开发配置功能上多一个功能，压缩代码。")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("结论webpack 能够编译打包 js 和 json 文件。 能将 es6 的模块化语法转换成浏览器能识别的语法。 能压缩代码。")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("ul",[a("li",[t._v("不能编译打包 css、img 等文件")]),t._v(" "),a("li",[t._v("不能将 js 的 es6 基本语法转化为 es5 以下语法")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);